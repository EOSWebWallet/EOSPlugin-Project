<app-nav-header backLink="/app/settings" title="routes.settings.networks.title"></app-nav-header>

<mat-list>
    <mat-list-item *ngFor="let network of networks$ | async">
      <div>
        <p>{{ network.name }}</p>
        <app-icon type="check_box_outline_blank" *ngIf="!network.selected" (click)="onSelect(network)"></app-icon>
        <app-icon type="check_box" *ngIf="network.selected" (click)="onSelect(network)"></app-icon>
        <app-icon type="edit" (click)="editableNetwork = network"></app-icon>
        <app-icon type="clear" (click)="onDelete(network)"></app-icon>
      </div>
      <div *ngIf="network === editableNetwork">
        <form #form="ngForm">
          <app-text name="name" [(ngModel)]="network.name" [label]="'routes.settings.networks.name' | translate" required></app-text>
          <app-text name="host" [(ngModel)]="network.host" [label]="'routes.settings.networks.host' | translate" required></app-text>
          <app-text name="port" [(ngModel)]="network.port" [label]="'routes.settings.networks.port' | translate" required></app-text>
          <app-button [label]="'routes.settings.networks.save' | translate" (click)="onUpdate(network)" [disabled]="form.invalid"></app-button>
          <app-button [label]="'routes.settings.networks.cancel' | translate" (click)="editableNetwork = null"></app-button>
        </form>
      </div>
      <mat-divider></mat-divider>
    </mat-list-item>
</mat-list>

<app-button [label]="'routes.settings.networks.add' | translate" (click)="onAdd()"></app-button>
